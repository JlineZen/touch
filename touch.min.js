var touch=function(a){var b=a.document,c=null,d={},e=b.body,f=0/0,g=["pagex","pageY","clientX","clientY","screenX","screenY"],h=function(a){return Object.getOwnPropertyNames(a)},i=function(a,b){c.addEventListener("touchstart",b,!1)},j=function(a){var f=null;!function(a){for(var h,i,e=0;h=a[e++];)i=d[h.identifier],i&&(i.handle&&(clearTimeout(i.handle),i.handle=null),"taping"==i.status&&(f=b.createEvent("HTMLEvents"),f.initEvent("tap",!0,!0),g.forEach(function(a){f[a]=h[a]}),c.dispatchEvent(f)),"swipeing"==i.status&&(f=b.createEvent("HTMLEvents"),f.initEvent("swipeend",!0,!0),g.forEach(function(a){f[a]=h[a]}),c.dispatchEvent(f)),"holding"==i.status&&(f=b.createEvent("HTMLEvents"),f.initEvent("holdend",!0,!0),g.forEach(function(a){f[a]=h[a]}),c.dispatchEvent(f)),delete d[h.identifier])}(a.changedTouches),0==h(d).length&&(e.removeEventListener("touchend",j,!1),e.removeEventListener("touchmove",k,!1))},k=function(a){a.preventDefault();var e=null;!function(a){for(var h,f=0;h=a[f++];)!function(a){var h,i,j,k,f=d[a.identifier];f&&(h=a.clientX-f.record.clientX,i=a.clientY-f.record.clientY,j={y:0>i?!0:!1,x:0>h?!1:!0},k=Math.sqrt(Math.pow(h,2)+Math.pow(i,2)),"taping"==f.status&&k>10&&(f.status="swipeing",e=b.createEvent("HTMLEvents"),e.initEvent("swipestart",!0,!0),g.forEach(function(b){e[b]=a[b]}),c.dispatchEvent(e)),"swipeing"==f.status&&(e=b.createEvent("HTMLEvents"),e.initEvent("swipemove",!0,!0),g.forEach(function(b){e[b]=a[b]}),e.displacementX=h,e.displacementY=i,e.direction=j,c.dispatchEvent(e)))}(h)}(a.changedTouches)},l=function(a){var f=null;0==h(d).length&&(e.addEventListener("touchend",j,!1),e.addEventListener("touchmove",k,!1)),function(a){for(var h,e=0;h=a[e++];)!function(a){var i,e={},h=null;for(i in a)e[i]=a[i];h={record:e,time:Date.now(),status:"taping",handle:setTimeout(function(){"taping"==h.status&&(h.status="holding",f=b.createEvent("HTMLEvents"),f.initEvent("hold",!0,!0),g.forEach(function(a){f[a]=e[a]}),c.dispatchEvent(f)),h.handle=null},200)},d[a.identifier]=h}(h)}(a.changedTouches)};return{tap:function(a,d){c="string"!=typeof a?a:b.querySelector(a),i(c,l);var e=function(a){a.preventDefault(),d.call(this,a)};c.addEventListener("tap",e,!1)},doubletap:function(a,d){var e=function(a){if(+Date.now()-f<500){var d=b.createEvent("HTMLEvents");d.initEvent("doubletap",!0,!0),g.forEach(function(b){d[b]=a[b]}),c.dispatchEvent(d)}f=Date.now()},h=function(a){a.preventDefault(),d.call(this,a)};this.tap(a,e),c.addEventListener("doubletap",h,!1)},hold:function(a,d){c="string"!=typeof a?a:b.querySelector(a),i(c,l);var e=function(a){a.preventDefault(),d.call(this,a)};c.addEventListener("hold",e,!1)},holdend:function(a,d){c="string"!=typeof a?a:b.querySelector(a),i(c,l);var e=function(a){a.preventDefault(),d.call(this,a)};c.addEventListener("holdend",e,!1)},swipestart:function(a,d){c="string"!=typeof a?a:b.querySelector(a),i(c,l);var e=function(a){a.preventDefault(),d.call(this,a)};c.addEventListener("swipestart",e,!1)},swipemove:function(a,d){c="string"!=typeof a?a:b.querySelector(a),i(c,l);var e=function(a){a.preventDefault(),d.call(this,a)};c.addEventListener("swipemove",e,!1)},swipeend:function(a,d){c="string"!=typeof a?a:b.querySelector(a),i(c,l);var e=function(a){a.preventDefault(),d.call(this,a)};c.addEventListener("swipeend",e,!1)}}}(window);